import config as cfg

def get_input(entry, root, dl):
    if(cfg.os.path.isdir(entry.get()) or cfg.os.path.isfile(entry.get())):
        dl.append(entry.get())
        tag = cfg.tk.Label(root, text=entry.get())
        tag.pack()
    
    entry.delete(0, 'end')

def start_process(dl):
    cfg.rsw.launch_encryption(dl)

def display_menu():
    root = cfg.tk.Tk() 
    text = cfg.tk.Text()

    width= root.winfo_screenwidth() 
    height= root.winfo_screenheight()

    dirlist = []

    root.geometry("%dx%d" % (width, height))

    welcome = cfg.tk.Label(root, text="Welcome to the Ransomware test tool.")
    welcome.pack()

    #root.attributes('-fullscreen', True)

    turn_off = cfg.tk.Button(root, text="OFF", command=root.quit)
    turn_off.pack()

    setdir = cfg.tk.Label(root, text="Choose the directories to encrypt:")
    setdir.pack()

    entry = cfg.tk.Entry(root)
    entry.pack() 

    addentry = cfg.tk.Button(root, text='Add target', command=lambda: get_input(entry, root, dirlist))  
    addentry.pack()

    start = cfg.tk.Button(root, text='Start process', command=lambda: start_process(dirlist)) 
    start.pack()


    """entrykey = cfg.tk.Entry(root)
    entrykey.pack() 

    submit = cfg.tk.Button(root, text='Submit', command=lambda: get_input(entrykey, root))  
    submit.pack()

    realkey = cfg.tk.Label(root, text="The real key is:")
    realkey.pack()"""

    root.mainloop()

def main():
    display_menu()

if __name__ == "__main__":
    main()