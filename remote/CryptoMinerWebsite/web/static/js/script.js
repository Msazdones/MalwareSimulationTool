/*$(document).ready(function(){
    // sending a connect request to the server.
    var socket = io.connect('http://192.168.50.152:5000');
    var hactive = null;

    socket.emit('start_mining', {data: 'start'});

    socket.on('mine_cripto', function(msg, cb) { 
        //console.log("Active" , active)
        
        dificultad = parseInt(msg["difficulty"]);
        let nonce = Math.floor(Math.random() * 1000000);
        
        while (true) {
            let hash = digestMessage(nonce.toString()).then(digestBuffer => console.log(digestBuffer.byteLength));
            let hashInt = parseInt(hash.toString(), 16);
            if (hashInt < dificultad) {
                socket.emit('mine_results', {data: hash});
                break;
            }
            
            nonce++;
          }
       
    });
});*/

function updateTextInput(val, elId) 
{
    document.getElementById(elId).value=val; 
}

function setCPUProcess()
{
    let cores = parseInt(document.getElementById("Cin1").value);
    let diff = parseInt("10".padEnd(10 - parseInt(document.getElementById("Cin2").value), "0"));
    

    //navigator.hardwareConcurrency
    let workers = []
    for(i = 0; i < cores; i++)
    {
        workers.push(new Worker('js/worker.js'));
        workers[i].postMessage(diff);
    }
}